"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[485],{7915:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(5193),r=n(890);n(2791);const s=n.p+"static/media/no-data.a40e30af385cbe9d4b728c590b00351e.svg";var l=n(859),a=n(184);const i=function(e){let{imgAlt:t}=e;const n=(0,o.Z)((e=>e.breakpoints.down("md")));return(0,a.jsxs)(l.Z,{children:[(0,a.jsx)("img",{src:s,alt:t,className:"no-data-image"}),(0,a.jsx)(r.Z,{mt:3,color:"text.secondary",variant:n?"body1":"h6",sx:{fontWeight:"light"},children:"There seems to be a problem"}),(0,a.jsx)(r.Z,{display:"inline",color:"text.secondary",variant:n?"body1":"h6",sx:{fontWeight:"light"},children:"Please try again later."})]})}},859:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(6445),r=n(1889),s=n(184);const l=function(e){let{children:t}=e;return(0,s.jsx)(o.Z,{children:(0,s.jsx)(r.ZP,{container:!0,mt:5,justifyContent:"center",children:(0,s.jsx)(r.ZP,{item:!0,xs:12,sm:7,md:6,sx:{textAlign:"center"},children:t})})})}},8485:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var o=n(2791),r=n(9271),s=n(6030),l=n(5193),a=n(6445),i=n(3402);function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};class f extends o.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!==typeof t&&(t={default:parseInt(t)||2});let n=1/0,o=t.default||2;for(let r in t){const s=parseInt(r);s>0&&e<=s&&s<n&&(n=s,o=t[r])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),n=o.Children.toArray(this.props.children);for(let o=0;o<n.length;o++){const r=o%e;t[r]||(t[r]=[]),t[r].push(n[o])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:n}=this.props,r=this.itemsInColumns(),s="".concat(100/r.length,"%");let l=n;l&&"string"!==typeof l&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof l&&(l="my-masonry-grid_column"));const a=m(m(m({},e),t),{},{style:m(m({},t.style),{},{width:s}),className:l});return r.map(((e,t)=>o.createElement("div",u({},a,{key:t}),e)))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:n,columnClassName:r,columnAttrs:s,column:l,className:a}=e,i=c(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let d=a;return"string"!==typeof a&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof a&&(d="my-masonry-grid")),o.createElement("div",u({},i,{className:d}),this.renderColumns())}}f.defaultProps=h;const x=f;var b=n(8313);const j=function(){return(0,s.v9)((e=>e.notes))};var y=n(9504),C=n(7621),g=n(184);const v=function(){return(0,g.jsx)(C.Z,{children:(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(i.Z,{sx:{width:"50%"}}),(0,g.jsx)(i.Z,{variant:"rectangular",height:40,sx:{mt:3}})]})})};var Z=n(8429),w=n(8335),k=n(2419),O=n(703),N=n(1889),D=n(9877),I=n(4737);const P={title:"",body:""};const A=function(e){let{projectId:t}=e;const n=(0,s.I0)(),[r,l]=(0,o.useState)(!1),[a,i]=(0,o.useState)(P),c=e=>{i((t=>({...t,[e.target.name]:e.target.value})))};return(0,g.jsx)(N.ZP,{container:!0,mt:4,justifyContent:"center",children:(0,g.jsx)(N.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(O.Z,{sx:{position:"relative"},children:(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!a.title.trim()&&!a.body.trim())return i({title:"",body:""}),void l(!0);n((0,b.AL)({projectId:t,...a})),i(P),l(!1)},children:[r&&(0,g.jsx)(w.ZP,{fullWidth:!0,name:"title",placeholder:"Title",autoComplete:"off",value:a.title,onChange:c,sx:{px:2,pt:2,fontWeight:"bold"}}),(0,g.jsx)(w.ZP,{name:"body",fullWidth:!0,placeholder:"Take a note...",autoComplete:"off",rows:4,multiline:r,autoFocus:r,onFocus:()=>{l(!0)},value:a.body,onChange:c,sx:{p:2,...I.W2.scrollbar}}),(0,g.jsx)(D.Z,{type:"submit",color:"primary",size:"medium",sx:{position:"absolute",right:25,bottom:-20},children:(0,g.jsx)(k.Z,{})})]})})})})};var W=n(7317),S=n(890);const _=function(){const e=(0,r.k6)();return(0,g.jsxs)("span",{className:"cursor-pointer no-click-overlay",onClick:e.goBack,children:[(0,g.jsx)(W.Z,{color:"action"}),(0,g.jsx)(S.Z,{mt:2,display:"inline",variant:"body2",color:"text.secondary",children:"Back"})]})};var T=n(7915);const M=n.p+"static/media/no-notes.cbbfb4edf427b8a2c6e72f5a5aa1be9c.svg";var E=n(859);const F=function(){const e=(0,l.Z)((e=>e.breakpoints.down("md")));return(0,g.jsxs)(E.Z,{children:[(0,g.jsx)("img",{src:M,alt:"No project selected",className:"no-data-image",style:{marginTop:"50px"}}),(0,g.jsx)(S.Z,{mt:4,color:"text.secondary",variant:e?"body1":"h6",sx:{fontWeight:"light"},children:"It feels so empty in here"}),(0,g.jsx)(S.Z,{color:"text.secondary",variant:e?"body1":"h6",sx:{fontWeight:"light"},children:"Let's create a note."})]})};var L=n(2363),z=n(7123),R=n(9157),q=n(5201),B=n(7247),U=n(3400),H=n(4518),K=n(5289);const Q=function(e){let{projectId:t,note:n,open:r,handleModalClose:l}=e;const a=(0,s.I0)(),[i,c]=(0,o.useState)({title:n.title,body:n.body}),u=e=>{c((t=>({...t,[e.target.name]:e.target.value})))},d=e=>{e.preventDefault(),i.title===n.title&&n.body===i.body||a((0,b.Qk)({projectId:t,noteId:n._id,...i})),l()};return(0,g.jsx)("div",{children:(0,g.jsx)(K.Z,{fullWidth:!0,open:r,onClose:()=>{c({title:n.title,body:n.body}),l()},scroll:"paper",children:(0,g.jsxs)("form",{onSubmit:d,children:[(0,g.jsx)(q.Z,{children:(0,g.jsx)(w.ZP,{name:"title",fullWidth:!0,placeholder:"Title",autoComplete:"off",sx:{fontWeight:"bold"},value:i.title,onChange:u})}),(0,g.jsx)(R.Z,{children:(0,g.jsx)(w.ZP,{name:"body",fullWidth:!0,placeholder:"Take a note...",autoComplete:"off",sx:I.W2.scrollbar,multiline:!0,rows:4,value:i.body,onChange:u})}),(0,g.jsxs)(z.Z,{children:[(0,g.jsx)(U.Z,{onClick:()=>{a((0,b.f_)({projectId:t,noteId:n._id}))},sx:{position:"absolute",left:13,bottom:9},children:(0,g.jsx)(B.Z,{fontSize:"small",color:"primary"})}),(0,g.jsx)(H.Z,{onClick:d,children:"Done"})]})]})})})};const G=function(e){let{projectId:t,note:n}=e;const[r,s]=(0,o.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(C.Z,{onClick:()=>{s(!0)},className:"cursor-pointer no-click-overlay",children:[(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(S.Z,{gutterBottom:!0,sx:{fontWeight:"bold"},children:n.title}),(0,g.jsx)(S.Z,{sx:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:n.body})]}),(0,g.jsx)(L.Z,{children:(0,g.jsxs)(S.Z,{variant:"caption",color:"text.secondary",ml:"auto",children:["Updated: ",new Date(n.updatedAt).toDateString()]})})]}),(0,g.jsx)(Q,{projectId:t,note:n,open:r,handleModalClose:()=>{s(!1)}})]})},J="Notes_masonry-grid__hapNf",V="Notes_masonry-grid_column__hc+rL",X={default:4,1100:3,700:2,500:1};const Y=function(){const{loading:e,notes:t,error:n,fetchError:c}=j(),u=(0,l.Z)((e=>e.breakpoints.down("sm"))),d=(0,s.I0)(),m=(0,r.UO)();return(0,o.useEffect)((()=>{d((0,b.Kk)(m.id))}),[d,m.id]),(0,g.jsxs)(a.Z,{children:[(0,g.jsx)(_,{}),c?(0,g.jsx)(T.Z,{imgAlt:"No notes data"}):e?(0,g.jsx)(i.Z,{height:80,sx:{mx:"auto",mt:4,width:u?"100%":"50%"}}):(0,g.jsx)(A,{projectId:m.id}),(n||c)&&(0,g.jsx)(Z.Z,{severity:"error",message:n||c}),t.length||c||e?(0,g.jsx)(x,{breakpointCols:X,className:J,columnClassName:V,children:e?[...Array(4)].map(((e,t)=>(0,g.jsx)(v,{},t))):t.map((e=>(0,g.jsx)(G,{projectId:m.id,note:e},e._id)))}):(0,g.jsx)(F,{})]})};const $=function(){return(0,g.jsx)(Y,{})}},7317:(e,t,n)=>{var o=n(4836);t.Z=void 0;var r=o(n(5649)),s=n(184),l=(0,r.default)((0,s.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace");t.Z=l},5201:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(7462),r=n(3366),s=n(2791),l=n(8182),a=n(9468),i=n(890),c=n(7630),u=n(1402),d=n(1920);function m(e){return(0,d.Z)("MuiDialogTitle",e)}(0,n(6309).Z)("MuiDialogTitle",["root"]);var p=n(5090),h=n(184);const f=["className","id"],x=(0,c.ZP)(i.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),b=s.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:c}=n,d=(0,r.Z)(n,f),b=n,j=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},m,t)})(b),{titleId:y=c}=s.useContext(p.Z);return(0,h.jsx)(x,(0,o.Z)({component:"h2",className:(0,l.Z)(j.root,i),ownerState:b,ref:t,variant:"h6",id:y},d))}))}}]);
//# sourceMappingURL=485.d76103e5.chunk.js.map