"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[531],{8169:(e,t,s)=>{s.d(t,{Z:()=>d});var r=s(5193),n=s(3496),o=s(4737),i=s(269),l=s(321),a=s(184);const d=function(e){var t,s;let{horizontal:d=!1,isMultiColor:c,title:x,xLabels:h,series:u,fillColors:j,strokeColors:p}=e;const m=(0,r.Z)((e=>e.breakpoints.down("md"))),{isDark:Z}=(0,i.Z)(),v={...(0,o.Bl)({title:x,isDark:Z,fillColors:j,strokeColors:p}),plotOptions:{bar:{distributed:c,columnWidth:"60%",horizontal:d}},legend:{show:!1},xaxis:{categories:h}};return null!==u&&void 0!==u&&u.length&&null!==(t=u[0])&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.length?(0,a.jsx)(n.Z,{type:"bar",options:v,series:u,height:m?300:400}):(0,a.jsx)(l.Z,{})}},3716:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(703),n=s(184);const o=function(e){let{children:t}=e;return(0,n.jsx)(r.Z,{sx:{px:2,pt:3,height:"100%"},children:t})}},8559:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(3496),n=s(4737),o=s(269),i=s(321),l=s(184);const a=function(e){let{type:t="pie",title:s,labels:a,series:d,fillColors:c,labelColors:x,strokeColors:h,legendOffset:u=0}=e;const{isDark:j}=(0,o.Z)(),p={...(0,n.Bl)({title:s,isDark:j,fillColors:c,labelColors:x,strokeColors:h}),labels:a,tooltip:{theme:"dark"},responsive:[{breakpoint:480,options:{legend:{show:!1},plotOptions:{pie:{expandOnClick:!1,donut:{labels:{show:"donut"===t}}}}}}],legend:{position:"right",offsetY:u}};return null!==d&&void 0!==d&&d.length?(0,l.jsx)(r.Z,{type:t,options:p,series:d}):(0,l.jsx)(i.Z,{})}},321:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(5193),n=s(890),o=s(4554),i=s(945),l=s(184);const a=function(e){let{loading:t}=e;const s=(0,r.Z)((e=>e.breakpoints.down("md")));return(0,l.jsx)(o.Z,{height:s?300:400,position:"relative",children:t?(0,l.jsx)(i.Z,{}):(0,l.jsx)(n.Z,{align:"center",color:"text.secondary",className:"center-absolute",children:"Nothing to see here"})})}},7915:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(5193),n=s(890);s(2791);const o=s.p+"static/media/no-data.a40e30af385cbe9d4b728c590b00351e.svg";var i=s(859),l=s(184);const a=function(e){let{imgAlt:t}=e;const s=(0,r.Z)((e=>e.breakpoints.down("md")));return(0,l.jsxs)(i.Z,{children:[(0,l.jsx)("img",{src:o,alt:t,className:"no-data-image"}),(0,l.jsx)(n.Z,{mt:3,color:"text.secondary",variant:s?"body1":"h6",sx:{fontWeight:"light"},children:"There seems to be a problem"}),(0,l.jsx)(n.Z,{display:"inline",color:"text.secondary",variant:s?"body1":"h6",sx:{fontWeight:"light"},children:"Please try again later."})]})}},859:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(6445),n=s(1889),o=s(184);const i=function(e){let{children:t}=e;return(0,o.jsx)(r.Z,{children:(0,o.jsx)(n.ZP,{container:!0,mt:5,justifyContent:"center",children:(0,o.jsx)(n.ZP,{item:!0,xs:12,sm:7,md:6,sx:{textAlign:"center"},children:t})})})}},9460:(e,t,s)=>{s.d(t,{Z:()=>n});var r=s(6030);const n=function(){return(0,r.v9)((e=>e.projects))}},8531:(e,t,s)=>{s.r(t),s.d(t,{default:()=>He});var r=s(9271),n=s(5193),o=s(890),i=s(2791);const l=s.p+"static/media/no-project-selected.c688d6c9bc8794736dc03cdd330e3940.svg";var a=s(2009),d=s(859),c=s(184);const x=function(){const e=(0,n.Z)((e=>e.breakpoints.down("md")));return(0,c.jsxs)(d.Z,{children:[(0,c.jsx)("img",{src:l,alt:"No project selected",className:"no-data-image"}),(0,c.jsx)(o.Z,{mt:2,color:"text.secondary",variant:e?"body1":"h6",children:"You have not selected any project."}),(0,c.jsxs)(o.Z,{display:"inline",color:"text.secondary",variant:e?"body1":"h6",sx:{fontWeight:"light"},children:["Select one from the"," "]}),(0,c.jsx)(a.Z,{to:"/projects",children:(0,c.jsxs)(o.Z,{display:"inline",color:"primary",variant:e?"body1":"h6",sx:{fontWeight:"light"},children:["Projects"," "]})}),(0,c.jsxs)(o.Z,{display:"inline",color:"text.secondary",variant:e?"body1":"h6",sx:{fontWeight:"light"},children:["page to manage it here."," "]})]})};var h=s(6030),u=s(9156),j=s(6445),p=s(4518),m=s(703),Z=s(5228),v=s(3896),g=s(4554),b=s(2972),y=s(9460),f=s(945),k=s(8429),w=s(1889),C=s(9791),I=s(3716),T=s(8559),W=s(3853),_=s(9861),S=s(2363),P=s(9504),B=s(7621),F=s(2069),L=s(3363),O=s(8053),z=s(9157),N=s(7123),D=s(7247),A=s(7391),M=s(1686),E=s(1428),H=s(5021),R=s(5289),q=s(493),U=s(9463),Y=s(5059);const V=function(){return(0,h.v9)((e=>e.collaborators))};var G=s(4152),J=s(9658);const X=function(e){let{message:t}=e;return(0,c.jsx)(J.Z,{severity:"success",sx:{marginBottom:3},children:t})};var K=s(1835);const Q=function(e){let{open:t,handleClose:s,project:r}=e;const[l,a]=(0,i.useState)([]),[d,x]=(0,i.useState)([]),[u,j]=(0,i.useState)(!1),m=(0,h.I0)(),{loading:Z,error:v,searchError:g,message:b,users:y}=V(),f=(0,n.Z)((e=>e.breakpoints.down("sm")));(0,i.useEffect)((()=>{const e=r.collaborators.reduce(((e,t)=>[...e,t._id]),[]);a(e)}),[r.collaborators]);const k=()=>{u&&j(!1),null===s||void 0===s||s()},w=(0,U.Z)((e=>{if(e.target.value.trim())return j(!0),void m((0,Y.yC)(e.target.value));m(F.q.reset()),j(!1)}),1e3);return(0,c.jsxs)(R.Z,{fullWidth:!0,maxWidth:"xs",fullScreen:f,open:t,onClose:k,children:[Z&&(0,c.jsx)(G.Z,{}),(0,c.jsx)(o.Z,{variant:"h6",ml:3,mt:2,children:"Invite a collaborator"}),(0,c.jsx)(o.Z,{variant:"caption",color:"primary",ml:3,mb:1,children:"Maximum 5 collaborators per project"}),(0,c.jsxs)(z.Z,{children:[b&&(0,c.jsx)(X,{message:b}),g&&(0,c.jsx)(K.Z,{error:g}),v&&(0,c.jsx)(K.Z,{error:v}),(0,c.jsx)(A.Z,{variant:"outlined",color:"secondary",label:"Username",onChange:w,disabled:Z,fullWidth:!0,autoFocus:!0}),Z||!u||y.length?(0,c.jsxs)(c.Fragment,{children:[!y.length&&(0,c.jsx)(o.Z,{variant:"body2",color:"text.secondary",align:"center",mt:2,children:"Start typing to see search results"}),(0,c.jsx)(q.Z,{children:null===y||void 0===y?void 0:y.map((e=>(0,c.jsxs)(H.ZP,{disableGutters:!0,disabled:Z,children:[(0,c.jsx)(O.Z,{user:e}),(0,c.jsx)(o.Z,{ml:3,noWrap:!0,children:e.username}),l.includes(e._id)||d.includes(e._id)?d.includes(e._id)?(0,c.jsx)(p.Z,{color:"success",size:f?"small":"medium",endIcon:(0,c.jsx)(E.Z,{}),sx:{ml:"auto"},disableRipple:!0,children:"Invited"}):(0,c.jsx)(p.Z,{color:"error",size:f?"small":"medium",endIcon:(0,c.jsx)(D.Z,{}),sx:{ml:"auto"},disabled:Z,onClick:()=>{return t=e._id,void m((0,Y.je)({projectId:null===r||void 0===r?void 0:r._id,userId:t}));var t},children:"Remove"}):(0,c.jsx)(p.Z,{size:f?"small":"medium",endIcon:(0,c.jsx)(M.Z,{}),sx:{ml:"auto"},disabled:Z,onClick:()=>{return t=e._id,void m((0,Y.X7)({projectId:null===r||void 0===r?void 0:r._id,userId:t})).unwrap().then((()=>{x((e=>[...e,t]))}),(()=>{}));var t},children:"Invite"})]},e._id)))})]}):(0,c.jsx)(o.Z,{variant:"body2",color:"text.secondary",align:"center",mt:2,children:"No users found"})]}),(0,c.jsx)(N.Z,{children:(0,c.jsx)(p.Z,{onClick:k,children:"Cancel"})})]})};const $=function(e){let{project:t}=e;const[s,r]=(0,i.useState)(!1),n=(0,h.I0)(),{user:l}=(0,L.Z)(),{owner:a,collaborators:d}=t;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Q,{open:s,handleClose:()=>{n(F.q.reset()),r(!1)},project:t}),(0,c.jsxs)(B.Z,{children:[(0,c.jsxs)(P.Z,{sx:{display:"flex"},children:[(0,c.jsx)(o.Z,{variant:"h6",mr:3,gutterBottom:!0,noWrap:!0,sx:{fontWeight:"normal"},children:"Collaborators"}),(null===l||void 0===l?void 0:l._id)===a&&(0,c.jsx)(g.Z,{ml:"auto",children:(0,c.jsx)(p.Z,{size:"small",variant:"contained",endIcon:(0,c.jsx)(W.zy7,{size:15,style:{marginBottom:4}}),onClick:()=>{r(!0)},children:"Invite"})})]}),(0,c.jsxs)(S.Z,{sx:{ml:1.5,my:2},children:[!(null!==d&&void 0!==d&&d.length)&&(0,c.jsx)(o.Z,{variant:"body2",color:"text.secondary",noWrap:!0,gutterBottom:!0,children:"No collaborators for this project."}),(0,c.jsx)(_.Z,{max:5,children:null===d||void 0===d?void 0:d.map((e=>(0,c.jsx)(O.Z,{user:e},e._id)))})]})]})]})};var ee=s(8169);const te=function(e){let{title:t,content:s}=e;return(0,c.jsxs)(B.Z,{sx:{height:"100%"},children:[(0,c.jsx)(P.Z,{children:(0,c.jsx)(o.Z,{variant:"h6",gutterBottom:!0,noWrap:!0,sx:{fontWeight:"normal"},children:t})}),(0,c.jsx)(S.Z,{children:(0,c.jsx)(o.Z,{variant:"h5",color:"primary",noWrap:!0,sx:{ml:1,mt:3,fontWeight:"bold"},children:s})})]})};const se=function(e){var t,s,r,o,i,l;let{project:a}=e;const d=(0,n.Z)((e=>e.breakpoints.down("sm")));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(w.ZP,{container:!0,spacing:4,children:[(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:4,lg:3,order:d?3:0,children:(0,c.jsx)(te,{title:"Todos",content:null===a||void 0===a||null===(t=a.tasks)||void 0===t||null===(s=t.todo)||void 0===s?void 0:s.length})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:4,lg:3,order:1,children:(0,c.jsx)(te,{title:"Tasks in progress",content:null===a||void 0===a||null===(r=a.tasks)||void 0===r||null===(o=r.in_progress)||void 0===o?void 0:o.length})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:4,lg:3,order:2,children:(0,c.jsx)(te,{title:"Tasks completed",content:null===a||void 0===a||null===(i=a.tasks)||void 0===i||null===(l=i.done)||void 0===l?void 0:l.length})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:4,lg:3,order:d?0:3,children:(0,c.jsx)($,{project:a})})]}),(0,c.jsxs)(w.ZP,{container:!0,spacing:4,mt:1,children:[(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:6,lg:6,children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(ee.Z,{title:"Tasks by priority",xLabels:["Low","Medium","High"],series:[{name:"Tasks",data:(()=>{var e,t;const s={low:0,medium:0,high:0};(null===a||void 0===a?void 0:a.tasks)&&(null===(e=Object.values(null===a||void 0===a?void 0:a.tasks))||void 0===e||null===(t=e.flat())||void 0===t||t.reduce(((e,t)=>(e[t.priority]+=1,e)),s));return(0,C.BY)(Object.values(s))?[]:Object.values(s)})()}]})})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:6,lg:6,children:(0,c.jsx)(I.Z,{children:(0,c.jsx)(T.Z,{type:"donut",title:"Tasks distribution",series:(()=>{var e,t,s,r,n,o;const i=[null===a||void 0===a||null===(e=a.tasks)||void 0===e||null===(t=e.todo)||void 0===t?void 0:t.length,null===a||void 0===a||null===(s=a.tasks)||void 0===s||null===(r=s.in_progress)||void 0===r?void 0:r.length,null===a||void 0===a||null===(n=a.tasks)||void 0===n||null===(o=n.done)||void 0===o?void 0:o.length];return(0,C.BY)(i)?[]:i})(),labels:["Todo","In progress","Done"],legendOffset:50})})})]})]})};var re=s(7915),ne=s(7649),oe=s(3738);const ie=function(){return(0,h.v9)((e=>e.tasks))};var le=s(326),ae=s(9188),de=s(829),ce=s(3786),xe=s(9321);const he=function(e){let{taskType:t,...s}=e;const[r,n]=(0,i.useState)("updatedAtNF"),o=(0,h.I0)(),l={updatedAtNF(){o(oe.M.sortTasksByDateNewestFirst({taskType:t}))},updatedAtOF(){o(oe.M.sortTasksByDateOldestFirst({taskType:t}))},priorityLH(){o(oe.M.sortTasksByPriorityLowHigh({taskType:t}))},priorityHL(){o(oe.M.sortTasksByPriorityHighLow({taskType:t}))}};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(ae.Z,{fullWidth:!0,color:"secondary",sx:{mt:3},...s,children:[(0,c.jsx)(de.Z,{id:"sortBy",children:"Sort By"}),(0,c.jsxs)(xe.Z,{labelId:"sortBy",label:"Sort by",value:r,onChange:e=>{var t;const s=e.target.value;n(s),null===(t=l[s])||void 0===t||t.call(l)},children:[(0,c.jsx)(ce.Z,{value:"updatedAtNF",children:"Date - Newest first"}),(0,c.jsx)(ce.Z,{value:"updatedAtOF",children:"Date - Oldest first"}),(0,c.jsx)(ce.Z,{value:"priorityLH",children:"Priority - Low to high"}),(0,c.jsx)(ce.Z,{value:"priorityHL",children:"Priority - High to low"})]})]})})};var ue=s(3402);const je=function(){return(0,c.jsxs)(B.Z,{sx:{mt:5,height:160,position:"relative"},children:[(0,c.jsxs)(P.Z,{children:[(0,c.jsxs)(g.Z,{display:"flex",alignItems:"center",children:[(0,c.jsx)(ue.Z,{variant:"circular",width:12,height:12}),(0,c.jsx)(ue.Z,{sx:{width:"30%",height:20,ml:1}})]}),(0,c.jsx)(ue.Z,{variant:"rectangular",height:40,sx:{mt:3}})]}),(0,c.jsxs)(S.Z,{sx:{ml:1,position:"absolute",bottom:5},children:[(0,c.jsx)(ue.Z,{variant:"circular",width:20,height:20}),(0,c.jsx)(ue.Z,{variant:"circular",width:20,height:20})]})]})};const pe=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(je,{}),(0,c.jsx)(je,{})]})};var me=s(2419),Ze=s(9877),ve=s(4737),ge=s(3400),be=s(9823),ye=s(7705),fe=s(3238),ke=s(388),we=s(7133);const Ce={title:{required:{value:!0,message:"Title is required"},maxLength:{value:200,message:"Title cannot be more than 200 characters long"}},body:{maxLength:{value:500,message:"Body cannot be more than 500 characters long"}}};var Ie=s(5446);const Te=function(e){let{handleClose:t,taskType:s,task:r}=e;const[n,l]=(0,i.useState)(""),[a,d]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),{processing:m,addError:Z,updateError:v}=ie(),{project:b}=(0,y.Z)(),f=(0,h.I0)();(0,i.useEffect)((()=>{r&&(l(r.priority),d(r.type))}),[r]);const{register:k,handleSubmit:w,formState:{errors:C}}=(0,ye.cI)({mode:"onTouched"});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{variant:"h6",mx:"auto",my:3,sx:{fontWeight:"normal"},children:r?"Update task":"Add a task"}),(0,c.jsx)(j.Z,{children:(0,c.jsxs)("form",{onSubmit:w((e=>{if(x&&u(""),!n)return void u("Priority is required");const o={...e,priority:n,type:a};if(r){let e=!1;for(const t of Object.keys(o))if(r[t]!==o[t]){e=!0;break}if(!e)return void(null===t||void 0===t||t())}f(r?(0,ne.xJ)({...e,priority:n,type:a,prevTaskType:s,taskId:r._id,projectId:b._id}):(0,ne.gI)({...e,priority:n,type:s,projectId:b._id})).unwrap().then((()=>{(!r||s===a)&&(null===t||void 0===t||t())}),(()=>{}))})),style:{marginTop:"20px"},children:[(x||Z||v)&&(0,c.jsx)(K.Z,{error:x||Z||v}),(0,c.jsx)(Ie.Z,{fullWidth:!0,type:"text",label:"title",defaultValue:null===r||void 0===r?void 0:r.title,register:k,errors:C,rules:Ce.title,disabled:m,autoFocus:!0}),(0,c.jsx)(Ie.Z,{fullWidth:!0,multiline:!0,rows:4,type:"text",label:"body",defaultValue:null===r||void 0===r?void 0:r.body,register:k,errors:C,halfMargin:!0,rules:Ce.body,disabled:m}),(0,c.jsx)(we.Z,{component:"legend",children:"Priority"}),(0,c.jsxs)(fe.Z,{color:"primary",value:n,exclusive:!0,fullWidth:!0,onChange:(e,t)=>{l(t)},sx:{mb:3,mt:1},disabled:m,children:[(0,c.jsx)(ke.Z,{value:"low",children:"Low"}),(0,c.jsx)(ke.Z,{value:"medium",children:"Medium"}),(0,c.jsx)(ke.Z,{value:"high",children:"High"})]}),r&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(we.Z,{component:"legend",children:"Type"}),(0,c.jsxs)(fe.Z,{color:"primary",value:a,exclusive:!0,fullWidth:!0,onChange:(e,t)=>{d(t)},sx:{mb:4,mt:1},disabled:m,children:[(0,c.jsx)(ke.Z,{value:"todo",children:"Todo"}),(0,c.jsx)(ke.Z,{value:"in_progress",children:"In progress"}),(0,c.jsx)(ke.Z,{value:"done",children:"Done"})]})]}),(0,c.jsx)(g.Z,{sx:{textAlign:"center",mb:3},children:(0,c.jsx)(p.Z,{type:"submit",variant:"contained",color:"secondary",size:"large",disabled:m,children:r?"Update":"Create"})})]})})]})};const We=function(e){let{open:t,handleClose:s,taskType:r,task:o}=e;const{processing:i}=ie(),l=(0,n.Z)((e=>e.breakpoints.down("md"))),a=()=>{i||null===s||void 0===s||s()};return(0,c.jsxs)(R.Z,{fullScreen:l,open:t,onClose:a,children:[i&&(0,c.jsx)(G.Z,{}),(0,c.jsx)(ge.Z,{color:"inherit",onClick:a,sx:{mx:"auto",mb:1},disabled:i,children:(0,c.jsx)(be.Z,{fontSize:l?"large":"medium"})}),(0,c.jsx)(Te,{task:o,taskType:r,handleClose:a})]})};const _e=function(e){let{children:t,title:s,taskType:r}=e;const[l,a]=(0,i.useState)(!1),d=(0,n.Z)((e=>e.breakpoints.down("sm")));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(We,{open:l,handleClose:()=>{a(!1)},taskType:r}),(0,c.jsx)(B.Z,{sx:{height:500,overflowY:"auto","&::-webkit-scrollbar":{width:3.5},"&::-webkit-scrollbar-thumb":{backgroundColor:ve.O9.scrollbar,borderRadius:3.5}},children:(0,c.jsxs)(P.Z,{children:[(0,c.jsxs)(g.Z,{display:"flex",justifyContent:"space-between",children:[(0,c.jsx)(o.Z,{variant:d?"h4":"h5",noWrap:!0,sx:{fontWeight:"bold"},children:s}),(0,c.jsx)(Ze.Z,{color:"primary",size:"small",disableRipple:!0,onClick:()=>{a(!0)},children:(0,c.jsx)(me.Z,{})})]}),t]})})]})};var Se=s(9e3),Pe=s(1918);const Be=(0,i.forwardRef)(((e,t)=>{let{projectId:s,task:r}=e;const[n,l]=(0,i.useState)(!1),a=(0,h.I0)();return(0,c.jsxs)("div",{ref:t,children:[(0,c.jsx)(We,{open:n,handleClose:()=>{l(!1)},taskType:r.type,task:r}),(0,c.jsx)(B.Z,{sx:{mt:3,borderRadius:1},children:(0,c.jsxs)(P.Z,{children:[(0,c.jsxs)(g.Z,{children:[(0,c.jsx)(Pe.Z,{label:r.priority,variant:"outlined",size:"small",sx:{mb:1,textTransform:"uppercase",color:ve.O9[r.priority],borderColor:ve.O9[r.priority]}}),(0,c.jsx)(o.Z,{variant:"h6",noWrap:!0,children:r.title})]}),(0,c.jsx)(o.Z,{sx:{mt:1.5,wordWrap:"break-word",whiteSpace:"pre-wrap"},children:r.body}),(0,c.jsxs)(S.Z,{sx:{mb:-3,ml:-1.5},children:[(0,c.jsx)(ge.Z,{color:"info",size:"small",onClick:()=>{l(!0)},children:(0,c.jsx)(Se.Z,{sx:{fontSize:20}})}),(0,c.jsx)(ge.Z,{color:"error",size:"small",onClick:()=>{a((0,ne._5)({projectId:s,taskId:r._id,taskType:r.type}))},sx:{mr:2},children:(0,c.jsx)(D.Z,{sx:{fontSize:20}})}),(0,c.jsxs)(o.Z,{variant:"caption",color:"text.secondary",ml:"auto",children:["Last updated: ",new Date(r.updatedAt).toDateString()]})]})]})})]})}));const Fe=function(){return(0,c.jsx)(o.Z,{color:"text.secondary",mt:2,children:"Nothing to show here"})};const Le=function(){const{in_progress:e,loading:t,in_progressLoading:s}=ie(),{project:r}=(0,y.Z)();return(0,c.jsxs)(_e,{title:"In Progress",taskType:"in_progress",children:[e.length>1&&(0,c.jsx)(he,{taskType:"in_progress",disabled:s}),t||s?(0,c.jsx)(pe,{}):(0,c.jsx)(le.Z,{children:e.map((e=>(0,c.jsx)(Be,{projectId:r._id,task:e},e._id)))}),!e.length&&!t&&(0,c.jsx)(Fe,{})]})};const Oe=function(){const{todo:e,loading:t,todoLoading:s}=ie(),{project:r}=(0,y.Z)();return(0,c.jsxs)(_e,{title:"Todo",taskType:"todo",children:[e.length>1&&(0,c.jsx)(he,{taskType:"todo",disabled:s}),t||s?(0,c.jsx)(pe,{}):(0,c.jsx)(le.Z,{children:e.map((e=>(0,c.jsx)(Be,{projectId:r._id,task:e},e._id)))}),!e.length&&!t&&(0,c.jsx)(Fe,{})]})};const ze=function(){const{done:e,loading:t,doneLoading:s}=ie(),{project:r}=(0,y.Z)();return(0,c.jsxs)(_e,{title:"Done",taskType:"done",children:[e.length>1&&(0,c.jsx)(he,{taskType:"done",disabled:s}),t||s?(0,c.jsx)(pe,{}):(0,c.jsx)(le.Z,{children:e.map((e=>(0,c.jsx)(Be,{projectId:r._id,task:e},e._id)))}),!e.length&&!t&&(0,c.jsx)(Fe,{})]})};const Ne=function(e){let{projectId:t}=e;const s=(0,h.I0)(),{error:r}=ie();return(0,i.useEffect)((()=>{s((0,ne.Ak)(t))}),[s,t]),(0,c.jsxs)(w.ZP,{container:!0,spacing:5,justifyContent:"center",children:[r&&(0,c.jsx)(k.Z,{severity:"error",message:r,handleClose:()=>{s(oe.M.resetErrors())}}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,c.jsx)(Oe,{})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,c.jsx)(Le,{})}),(0,c.jsx)(w.ZP,{item:!0,xs:12,sm:6,lg:4,children:(0,c.jsx)(ze,{})})]})},De=["overview","manage"];function Ae(e){let{children:t,value:s,index:r,...n}=e;return(0,c.jsx)(g.Z,{hidden:s!==r,mb:4,...n,children:s===r&&t})}const Me=function(e){let{projectId:t}=e;const[s,l]=(0,i.useState)(!0),[d,x]=(0,i.useState)(0),w=(0,r.k6)(),C=(0,r.TH)(),I=C.search,{project:T,projectError:W}=(0,y.Z)(),_=(0,n.Z)((e=>e.breakpoints.down("sm"))),S=(0,n.Z)((e=>e.breakpoints.down("md"))),P=(0,h.I0)();return(0,i.useEffect)((()=>{const e=new URLSearchParams(I).get("tab");if(e){const t=De.findIndex((t=>t===e));t>=0&&x(t)}}),[I]),(0,i.useEffect)((()=>{P((0,b.Rp)(t)).unwrap().finally((()=>{l(!1)}))}),[t,P]),s?(0,c.jsx)(f.Z,{}):(0,c.jsxs)(j.Z,{children:[W&&(0,c.jsx)(k.Z,{severity:"error",message:W}),T?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.Z,{sx:{width:S?"100%":"50%",mt:S?0:-4,mb:4,mx:"auto"},children:(0,c.jsxs)(Z.Z,{variant:"fullWidth",value:d,onChange:(e,t)=>{const s=De[t];w.replace({pathname:C.pathname,search:"tab=".concat(s)}),x(t)},children:[(0,c.jsx)(v.Z,{label:"Overview"}),(0,c.jsx)(v.Z,{label:"Manage"})]})}),(0,c.jsxs)(g.Z,{display:_&&0===d?"block":"flex",justifyContent:"space-between",alignItems:"center",mb:5,children:[(0,c.jsx)(o.Z,{variant:"h4",noWrap:S,sx:{fontWeight:"bold",wordBreak:"break-word"},children:T.name}),(0,c.jsx)(g.Z,{ml:3,hidden:0===d,children:(0,c.jsx)(a.Z,{to:"/project/".concat(t,"/notes"),children:(0,c.jsx)(p.Z,{size:S?"small":"medium",variant:"contained",endIcon:(0,c.jsx)(u.Z,{}),children:"Notes"})})})]}),(0,c.jsx)(Ae,{value:d,index:0,children:(0,c.jsx)(se,{project:T})}),(0,c.jsx)(Ae,{value:d,index:1,children:(0,c.jsx)(Ne,{projectId:t})})]}):(0,c.jsx)(re.Z,{imgAlt:"No project data"})]})};const Ee=function(){const e=(0,r.UO)();return"no-project-selected"===e.id?(0,c.jsx)(x,{}):(0,c.jsx)(Me,{projectId:e.id})};const He=function(){return(0,c.jsx)(Ee,{})}}}]);
//# sourceMappingURL=531.c125ed61.chunk.js.map